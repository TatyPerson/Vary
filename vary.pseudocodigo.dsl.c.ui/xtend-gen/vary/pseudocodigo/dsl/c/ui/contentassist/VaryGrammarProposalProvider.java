/**
 * generated by Xtext
 */
package vary.pseudocodigo.dsl.c.ui.contentassist;

import com.google.common.base.Objects;
import com.google.common.collect.Sets;
import com.google.inject.Inject;
import diagramapseudocodigo.Algoritmo;
import diagramapseudocodigo.Archivo;
import diagramapseudocodigo.AsignacionNormal;
import diagramapseudocodigo.CabeceraFuncion;
import diagramapseudocodigo.CabeceraSubproceso;
import diagramapseudocodigo.Constante;
import diagramapseudocodigo.Declaracion;
import diagramapseudocodigo.DeclaracionBasica;
import diagramapseudocodigo.DeclaracionDefinida;
import diagramapseudocodigo.Enumerado;
import diagramapseudocodigo.Funcion;
import diagramapseudocodigo.Implementacion;
import diagramapseudocodigo.Inicio;
import diagramapseudocodigo.LlamadaFuncion;
import diagramapseudocodigo.Matriz;
import diagramapseudocodigo.Modulo;
import diagramapseudocodigo.Parametro;
import diagramapseudocodigo.Procedimiento;
import diagramapseudocodigo.Registro;
import diagramapseudocodigo.Subproceso;
import diagramapseudocodigo.Subrango;
import diagramapseudocodigo.Tipo;
import diagramapseudocodigo.TipoComplejo;
import diagramapseudocodigo.ValorMatriz;
import diagramapseudocodigo.ValorRegistro;
import diagramapseudocodigo.ValorVector;
import diagramapseudocodigo.Variable;
import diagramapseudocodigo.Vector;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.ResourceBundle;
import org.eclipse.emf.common.util.EList;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.jface.resource.ImageDescriptor;
import org.eclipse.jface.text.contentassist.ICompletionProposal;
import org.eclipse.jface.viewers.StyledString;
import org.eclipse.swt.graphics.Image;
import org.eclipse.xtext.Assignment;
import org.eclipse.xtext.EcoreUtil2;
import org.eclipse.xtext.Keyword;
import org.eclipse.xtext.RuleCall;
import org.eclipse.xtext.ui.editor.contentassist.ContentAssistContext;
import org.eclipse.xtext.ui.editor.contentassist.ICompletionProposalAcceptor;
import vary.pseudocodigo.dsl.c.keywords.ReadKeywords;
import vary.pseudocodigo.dsl.c.keywords.ReadKeywordsInterface;
import vary.pseudocodigo.dsl.c.ui.contentassist.AbstractVaryGrammarProposalProvider;

/**
 * see http://www.eclipse.org/Xtext/documentation.html#contentAssist on how to customize content assistant
 */
@SuppressWarnings("all")
public class VaryGrammarProposalProvider extends AbstractVaryGrammarProposalProvider {
  protected final ReadKeywordsInterface readerKeywords;
  
  protected HashSet<String> filteringKeywods;
  
  private static Image localIcon;
  
  private static Image constPublic;
  
  private static Image typePrivate;
  
  private static Image typePublic;
  
  private static Image typesClassics;
  
  private static Image varPrivate;
  
  private static Image funcionPrivada;
  
  private static Image fieldRegistry;
  
  private static Image varPublic;
  
  @Inject
  public VaryGrammarProposalProvider() {
    ReadKeywords _readKeywords = new ReadKeywords();
    this.readerKeywords = _readKeywords;
    this.initializeFilteringKeywords();
    this.initializeIcons();
  }
  
  public VaryGrammarProposalProvider(final String language) {
    vary.pseudocodigo.dsl.c.english.keywords.ReadKeywords _readKeywords = new vary.pseudocodigo.dsl.c.english.keywords.ReadKeywords();
    this.readerKeywords = _readKeywords;
    this.initializeFilteringKeywords();
    this.initializeIcons();
  }
  
  public Image initializeIcons() {
    Image _xblockexpression = null;
    {
      ImageDescriptor _createFromFile = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/localvariable_obj.gif");
      Image _createImage = _createFromFile.createImage();
      VaryGrammarProposalProvider.localIcon = _createImage;
      ImageDescriptor _createFromFile_1 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/compare_field_public.gif");
      Image _createImage_1 = _createFromFile_1.createImage();
      VaryGrammarProposalProvider.constPublic = _createImage_1;
      ImageDescriptor _createFromFile_2 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/typevariable_private.gif");
      Image _createImage_2 = _createFromFile_2.createImage();
      VaryGrammarProposalProvider.typePrivate = _createImage_2;
      ImageDescriptor _createFromFile_3 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/typevariable_public.gif");
      Image _createImage_3 = _createFromFile_3.createImage();
      VaryGrammarProposalProvider.typePublic = _createImage_3;
      ImageDescriptor _createFromFile_4 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/methpub_obj.gif");
      Image _createImage_4 = _createFromFile_4.createImage();
      VaryGrammarProposalProvider.typesClassics = _createImage_4;
      ImageDescriptor _createFromFile_5 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/field_private_obj.gif");
      Image _createImage_5 = _createFromFile_5.createImage();
      VaryGrammarProposalProvider.varPrivate = _createImage_5;
      ImageDescriptor _createFromFile_6 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/methpri_obj.gif");
      Image _createImage_6 = _createFromFile_6.createImage();
      VaryGrammarProposalProvider.funcionPrivada = _createImage_6;
      ImageDescriptor _createFromFile_7 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/compare_field.gif");
      Image _createImage_7 = _createFromFile_7.createImage();
      VaryGrammarProposalProvider.fieldRegistry = _createImage_7;
      ImageDescriptor _createFromFile_8 = ImageDescriptor.createFromFile(VaryGrammarProposalProvider.class, "/icons/field_public_obj.gif");
      Image _createImage_8 = _createFromFile_8.createImage();
      _xblockexpression = VaryGrammarProposalProvider.varPublic = _createImage_8;
    }
    return _xblockexpression;
  }
  
  public HashSet<String> initializeFilteringKeywords() {
    ResourceBundle _bundle = this.readerKeywords.getBundle();
    String _string = _bundle.getString("KEYWORD_ALGORITMO");
    ResourceBundle _bundle_1 = this.readerKeywords.getBundle();
    String _string_1 = _bundle_1.getString("KEYWORD_MODULO");
    ResourceBundle _bundle_2 = this.readerKeywords.getBundle();
    String _string_2 = _bundle_2.getString("KEYWORD_ABRIR");
    ResourceBundle _bundle_3 = this.readerKeywords.getBundle();
    String _string_3 = _bundle_3.getString("KEYWORD_CERRAR");
    ResourceBundle _bundle_4 = this.readerKeywords.getBundle();
    String _string_4 = _bundle_4.getString("KEYWORD_DESDE");
    ResourceBundle _bundle_5 = this.readerKeywords.getBundle();
    String _string_5 = _bundle_5.getString("KEYWORD_ESCRIBIR");
    ResourceBundle _bundle_6 = this.readerKeywords.getBundle();
    String _string_6 = _bundle_6.getString("KEYWORD_ESCRIBIR");
    String _concat = _string_6.concat("(");
    ResourceBundle _bundle_7 = this.readerKeywords.getBundle();
    String _string_7 = _bundle_7.getString("KEYWORD_LEER");
    ResourceBundle _bundle_8 = this.readerKeywords.getBundle();
    String _string_8 = _bundle_8.getString("KEYWORD_LEER");
    String _concat_1 = _string_8.concat("(");
    ResourceBundle _bundle_9 = this.readerKeywords.getBundle();
    String _string_9 = _bundle_9.getString("KEYWORD_MIENTRAS");
    ResourceBundle _bundle_10 = this.readerKeywords.getBundle();
    String _string_10 = _bundle_10.getString("KEYWORD_MIENTRAS");
    String _concat_2 = _string_10.concat("(");
    ResourceBundle _bundle_11 = this.readerKeywords.getBundle();
    String _string_11 = _bundle_11.getString("KEYWORD_REPETIR");
    ResourceBundle _bundle_12 = this.readerKeywords.getBundle();
    String _string_12 = _bundle_12.getString("KEYWORD_SEGUN_SEA");
    ResourceBundle _bundle_13 = this.readerKeywords.getBundle();
    String _string_13 = _bundle_13.getString("KEYWORD_SEGUN_SEA");
    String _concat_3 = _string_13.concat("(");
    ResourceBundle _bundle_14 = this.readerKeywords.getBundle();
    String _string_14 = _bundle_14.getString("KEYWORD_SI");
    ResourceBundle _bundle_15 = this.readerKeywords.getBundle();
    String _string_15 = _bundle_15.getString("KEYWORD_SI");
    String _concat_4 = _string_15.concat("(");
    ResourceBundle _bundle_16 = this.readerKeywords.getBundle();
    String _string_16 = _bundle_16.getString("KEYWORD_ARCHIVO");
    ResourceBundle _bundle_17 = this.readerKeywords.getBundle();
    String _string_17 = _bundle_17.getString("KEYWORD_MATRIZ");
    ResourceBundle _bundle_18 = this.readerKeywords.getBundle();
    String _string_18 = _bundle_18.getString("KEYWORD_PROCEDIMIENTO");
    ResourceBundle _bundle_19 = this.readerKeywords.getBundle();
    String _string_19 = _bundle_19.getString("KEYWORD_FUNCION");
    ResourceBundle _bundle_20 = this.readerKeywords.getBundle();
    String _string_20 = _bundle_20.getString("KEYWORD_REGISTRO");
    ResourceBundle _bundle_21 = this.readerKeywords.getBundle();
    String _string_21 = _bundle_21.getString("KEYWORD_VECTOR");
    ResourceBundle _bundle_22 = this.readerKeywords.getBundle();
    String _string_22 = _bundle_22.getString("KEYWORD_DEVOLVER");
    HashSet<String> _newHashSet = Sets.<String>newHashSet(_string, _string_1, _string_2, _string_3, _string_4, _string_5, _concat, _string_7, _concat_1, _string_9, _concat_2, _string_11, _string_12, _concat_3, _string_14, _concat_4, _string_16, _string_17, _string_18, _string_19, _string_20, _string_21, _string_22);
    return this.filteringKeywods = _newHashSet;
  }
  
  @Override
  public void completeKeyword(final Keyword keyword, final ContentAssistContext contentAssistContext, final ICompletionProposalAcceptor acceptor) {
    String _value = keyword.getValue();
    boolean _contains = this.filteringKeywods.contains(_value);
    if (_contains) {
      return;
    }
    super.completeKeyword(keyword, contentAssistContext, acceptor);
  }
  
  @Override
  public void completeDeclaracionDefinida_Tipo(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      ArrayList<String> tiposLocales = new ArrayList<String>();
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      EList<TipoComplejo> _complejos = algoritmo.getComplejos();
      ArrayList<String> _completeDeclaracionDefinida_TipoAux = this.completeDeclaracionDefinida_TipoAux(context, acceptor, _complejos, tiposLocales);
      tiposLocales = _completeDeclaracionDefinida_TipoAux;
      EList<Modulo> _importaciones = algoritmo.getImportaciones();
      this.completeDeclaracionDefinida_TipoModulos(context, acceptor, _importaciones, tiposLocales);
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        ArrayList<String> tiposLocales_1 = new ArrayList<String>();
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        Implementacion _implementacion = modulo.getImplementacion();
        EList<TipoComplejo> _complejos_1 = _implementacion.getComplejos();
        ArrayList<String> _completeDeclaracionDefinida_TipoAux_1 = this.completeDeclaracionDefinida_TipoAux(context, acceptor, _complejos_1, tiposLocales_1);
        tiposLocales_1 = _completeDeclaracionDefinida_TipoAux_1;
        EList<Modulo> _importaciones_1 = modulo.getImportaciones();
        this.completeDeclaracionDefinida_TipoModulos(context, acceptor, _importaciones_1, tiposLocales_1);
      }
    }
  }
  
  public ArrayList<String> completeDeclaracionDefinida_TipoAux(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<TipoComplejo> complejos, final ArrayList<String> tiposLocales) {
    for (final TipoComplejo tipo : complejos) {
      if ((tipo instanceof Vector)) {
        Vector vector = ((Vector) tipo);
        String _nombre = vector.getNombre();
        tiposLocales.add(_nombre);
        String _nombre_1 = vector.getNombre();
        String _plus = (_nombre_1 + " : ");
        ResourceBundle _bundle = this.readerKeywords.getBundle();
        String _string = _bundle.getString("KEYWORD_VECTOR");
        String _plus_1 = (_plus + _string);
        StyledString styledString = new StyledString(_plus_1);
        String _nombre_2 = vector.getNombre();
        ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.typePrivate, context);
        acceptor.accept(completionProposal);
      } else {
        if ((tipo instanceof Matriz)) {
          Matriz matriz = ((Matriz) tipo);
          String _nombre_3 = matriz.getNombre();
          tiposLocales.add(_nombre_3);
          String _nombre_4 = matriz.getNombre();
          String _plus_2 = (_nombre_4 + " : ");
          ResourceBundle _bundle_1 = this.readerKeywords.getBundle();
          String _string_1 = _bundle_1.getString("KEYWORD_MATRIZ");
          String _plus_3 = (_plus_2 + _string_1);
          StyledString styledString_1 = new StyledString(_plus_3);
          String _nombre_5 = matriz.getNombre();
          ICompletionProposal completionProposal_1 = this.createCompletionProposal(_nombre_5, styledString_1, VaryGrammarProposalProvider.typePrivate, context);
          acceptor.accept(completionProposal_1);
        } else {
          if ((tipo instanceof Registro)) {
            Registro registro = ((Registro) tipo);
            String _nombre_6 = registro.getNombre();
            tiposLocales.add(_nombre_6);
            String _nombre_7 = registro.getNombre();
            String _plus_4 = (_nombre_7 + " : ");
            ResourceBundle _bundle_2 = this.readerKeywords.getBundle();
            String _string_2 = _bundle_2.getString("KEYWORD_REGISTRO");
            String _replaceAll = _string_2.replaceAll(":", "");
            String _plus_5 = (_plus_4 + _replaceAll);
            StyledString styledString_2 = new StyledString(_plus_5);
            String _nombre_8 = registro.getNombre();
            ICompletionProposal completionProposal_2 = this.createCompletionProposal(_nombre_8, styledString_2, VaryGrammarProposalProvider.typePrivate, context);
            acceptor.accept(completionProposal_2);
          } else {
            if ((tipo instanceof Enumerado)) {
              Enumerado enumerado = ((Enumerado) tipo);
              String _nombre_9 = enumerado.getNombre();
              tiposLocales.add(_nombre_9);
              String _nombre_10 = enumerado.getNombre();
              String _plus_6 = (_nombre_10 + " : ");
              ResourceBundle _bundle_3 = this.readerKeywords.getBundle();
              String _string_3 = _bundle_3.getString("KEYWORD_ENUMERADO");
              String _plus_7 = (_plus_6 + _string_3);
              StyledString styledString_3 = new StyledString(_plus_7);
              String _nombre_11 = enumerado.getNombre();
              ICompletionProposal completionProposal_3 = this.createCompletionProposal(_nombre_11, styledString_3, VaryGrammarProposalProvider.typePrivate, context);
              acceptor.accept(completionProposal_3);
            } else {
              if ((tipo instanceof Subrango)) {
                Subrango subrango = ((Subrango) tipo);
                String _nombre_12 = subrango.getNombre();
                tiposLocales.add(_nombre_12);
                String _nombre_13 = subrango.getNombre();
                String _plus_8 = (_nombre_13 + " : ");
                ResourceBundle _bundle_4 = this.readerKeywords.getBundle();
                String _string_4 = _bundle_4.getString("KEYWORD_SUBRANGO");
                String _plus_9 = (_plus_8 + _string_4);
                StyledString styledString_4 = new StyledString(_plus_9);
                String _nombre_14 = subrango.getNombre();
                ICompletionProposal completionProposal_4 = this.createCompletionProposal(_nombre_14, styledString_4, VaryGrammarProposalProvider.typePrivate, context);
                acceptor.accept(completionProposal_4);
              } else {
                if ((tipo instanceof Archivo)) {
                  Archivo archivo = ((Archivo) tipo);
                  String _nombre_15 = archivo.getNombre();
                  tiposLocales.add(_nombre_15);
                  String _nombre_16 = archivo.getNombre();
                  String _plus_10 = (_nombre_16 + " : ");
                  ResourceBundle _bundle_5 = this.readerKeywords.getBundle();
                  String _string_5 = _bundle_5.getString("KEYWORD_ARCHIVO");
                  String _plus_11 = (_plus_10 + _string_5);
                  StyledString styledString_5 = new StyledString(_plus_11);
                  String _nombre_17 = archivo.getNombre();
                  ICompletionProposal completionProposal_5 = this.createCompletionProposal(_nombre_17, styledString_5, VaryGrammarProposalProvider.typePrivate, context);
                  acceptor.accept(completionProposal_5);
                }
              }
            }
          }
        }
      }
    }
    return tiposLocales;
  }
  
  public void completeDeclaracionDefinida_TipoModulos(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Modulo> modulos, final ArrayList<String> tiposLocales) {
    for (final Modulo modulo : modulos) {
      Implementacion _implementacion = modulo.getImplementacion();
      EList<TipoComplejo> _complejos = _implementacion.getComplejos();
      for (final TipoComplejo tipo : _complejos) {
        if ((tipo instanceof Vector)) {
          Vector vector = ((Vector) tipo);
          if ((modulo.getExporta_tipos().contains(vector.getNombre()) && (!tiposLocales.contains(vector.getNombre())))) {
            String _nombre = vector.getNombre();
            String _plus = (_nombre + " : ");
            ResourceBundle _bundle = this.readerKeywords.getBundle();
            String _string = _bundle.getString("KEYWORD_VECTOR");
            String _plus_1 = (_plus + _string);
            StyledString styledString = new StyledString(_plus_1);
            String _nombre_1 = modulo.getNombre();
            String _plus_2 = (" - " + _nombre_1);
            StyledString styledStringAux = new StyledString(_plus_2);
            int _length = styledStringAux.length();
            styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
            styledString.append(styledStringAux);
            String _nombre_2 = vector.getNombre();
            ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.typePublic, context);
            acceptor.accept(completionProposal);
          }
        } else {
          if ((tipo instanceof Matriz)) {
            Matriz matriz = ((Matriz) tipo);
            if ((modulo.getExporta_tipos().contains(matriz.getNombre()) && (!tiposLocales.contains(matriz.getNombre())))) {
              String _nombre_3 = matriz.getNombre();
              String _plus_3 = (_nombre_3 + " : ");
              ResourceBundle _bundle_1 = this.readerKeywords.getBundle();
              String _string_1 = _bundle_1.getString("KEYWORD_MATRIZ");
              String _plus_4 = (_plus_3 + _string_1);
              StyledString styledString_1 = new StyledString(_plus_4);
              String _nombre_4 = modulo.getNombre();
              String _plus_5 = (" - " + _nombre_4);
              StyledString styledStringAux_1 = new StyledString(_plus_5);
              int _length_1 = styledStringAux_1.length();
              styledStringAux_1.setStyle(0, _length_1, StyledString.QUALIFIER_STYLER);
              styledString_1.append(styledStringAux_1);
              String _nombre_5 = matriz.getNombre();
              ICompletionProposal completionProposal_1 = this.createCompletionProposal(_nombre_5, styledString_1, VaryGrammarProposalProvider.typePublic, context);
              acceptor.accept(completionProposal_1);
            }
          } else {
            if ((tipo instanceof Registro)) {
              Registro registro = ((Registro) tipo);
              if ((modulo.getExporta_tipos().contains(registro.getNombre()) && (!tiposLocales.contains(registro.getNombre())))) {
                String _nombre_6 = registro.getNombre();
                String _plus_6 = (_nombre_6 + " : ");
                ResourceBundle _bundle_2 = this.readerKeywords.getBundle();
                String _string_2 = _bundle_2.getString("KEYWORD_REGISTRO");
                String _replaceAll = _string_2.replaceAll(":", "");
                String _plus_7 = (_plus_6 + _replaceAll);
                StyledString styledString_2 = new StyledString(_plus_7);
                String _nombre_7 = modulo.getNombre();
                String _plus_8 = (" - " + _nombre_7);
                StyledString styledStringAux_2 = new StyledString(_plus_8);
                int _length_2 = styledStringAux_2.length();
                styledStringAux_2.setStyle(0, _length_2, StyledString.QUALIFIER_STYLER);
                styledString_2.append(styledStringAux_2);
                String _nombre_8 = registro.getNombre();
                ICompletionProposal completionProposal_2 = this.createCompletionProposal(_nombre_8, styledString_2, VaryGrammarProposalProvider.typePublic, context);
                acceptor.accept(completionProposal_2);
              }
            } else {
              if ((tipo instanceof Enumerado)) {
                Enumerado enumerado = ((Enumerado) tipo);
                if ((modulo.getExporta_tipos().contains(enumerado.getNombre()) && (!tiposLocales.contains(enumerado.getNombre())))) {
                  String _nombre_9 = enumerado.getNombre();
                  String _plus_9 = (_nombre_9 + " : ");
                  ResourceBundle _bundle_3 = this.readerKeywords.getBundle();
                  String _string_3 = _bundle_3.getString("KEYWORD_ENUMERADO");
                  String _plus_10 = (_plus_9 + _string_3);
                  StyledString styledString_3 = new StyledString(_plus_10);
                  String _nombre_10 = modulo.getNombre();
                  String _plus_11 = (" - " + _nombre_10);
                  StyledString styledStringAux_3 = new StyledString(_plus_11);
                  int _length_3 = styledStringAux_3.length();
                  styledStringAux_3.setStyle(0, _length_3, StyledString.QUALIFIER_STYLER);
                  styledString_3.append(styledStringAux_3);
                  String _nombre_11 = enumerado.getNombre();
                  ICompletionProposal completionProposal_3 = this.createCompletionProposal(_nombre_11, styledString_3, VaryGrammarProposalProvider.typePublic, context);
                  acceptor.accept(completionProposal_3);
                }
              } else {
                if ((tipo instanceof Subrango)) {
                  Subrango subrango = ((Subrango) tipo);
                  if ((modulo.getExporta_tipos().contains(subrango.getNombre()) && (!tiposLocales.contains(subrango.getNombre())))) {
                    String _nombre_12 = subrango.getNombre();
                    String _plus_12 = (_nombre_12 + " : ");
                    ResourceBundle _bundle_4 = this.readerKeywords.getBundle();
                    String _string_4 = _bundle_4.getString("KEYWORD_SUBRANGO");
                    String _plus_13 = (_plus_12 + _string_4);
                    StyledString styledString_4 = new StyledString(_plus_13);
                    String _nombre_13 = modulo.getNombre();
                    String _plus_14 = (" - " + _nombre_13);
                    StyledString styledStringAux_4 = new StyledString(_plus_14);
                    int _length_4 = styledStringAux_4.length();
                    styledStringAux_4.setStyle(0, _length_4, StyledString.QUALIFIER_STYLER);
                    styledString_4.append(styledStringAux_4);
                    String _nombre_14 = subrango.getNombre();
                    ICompletionProposal completionProposal_4 = this.createCompletionProposal(_nombre_14, styledString_4, VaryGrammarProposalProvider.typePublic, context);
                    acceptor.accept(completionProposal_4);
                  }
                } else {
                  if ((tipo instanceof Archivo)) {
                    Archivo archivo = ((Archivo) tipo);
                    if ((modulo.getExporta_tipos().contains(archivo.getNombre()) && (!tiposLocales.contains(archivo.getNombre())))) {
                      String _nombre_15 = archivo.getNombre();
                      String _plus_15 = (_nombre_15 + " : ");
                      ResourceBundle _bundle_5 = this.readerKeywords.getBundle();
                      String _string_5 = _bundle_5.getString("KEYWORD_ARCHIVO");
                      String _plus_16 = (_plus_15 + _string_5);
                      StyledString styledString_5 = new StyledString(_plus_16);
                      String _nombre_16 = modulo.getNombre();
                      String _plus_17 = (" - " + _nombre_16);
                      StyledString styledStringAux_5 = new StyledString(_plus_17);
                      int _length_5 = styledStringAux_5.length();
                      styledStringAux_5.setStyle(0, _length_5, StyledString.QUALIFIER_STYLER);
                      styledString_5.append(styledStringAux_5);
                      String _nombre_17 = archivo.getNombre();
                      ICompletionProposal completionProposal_5 = this.createCompletionProposal(_nombre_17, styledString_5, VaryGrammarProposalProvider.typePublic, context);
                      acceptor.accept(completionProposal_5);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  
  @Override
  public void completeDeclaracionBasica_Tipo(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      this.completeDeclaracionBasica_TipoAux(context, acceptor);
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        this.completeDeclaracionBasica_TipoAux(context, acceptor);
      }
    }
  }
  
  public void completeDeclaracionBasica_TipoAux(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    ResourceBundle _bundle = this.readerKeywords.getBundle();
    String _string = _bundle.getString("KEYWORD_ENTERO");
    StyledString styledString = new StyledString(_string);
    int _length = styledString.length();
    styledString.setStyle(0, _length, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_1 = this.readerKeywords.getBundle();
    String _string_1 = _bundle_1.getString("KEYWORD_ENTERO");
    ICompletionProposal completionProposal = this.createCompletionProposal(_string_1, styledString, VaryGrammarProposalProvider.typesClassics, context);
    acceptor.accept(completionProposal);
    ResourceBundle _bundle_2 = this.readerKeywords.getBundle();
    String _string_2 = _bundle_2.getString("KEYWORD_REAL");
    StyledString _styledString = new StyledString(_string_2);
    styledString = _styledString;
    int _length_1 = styledString.length();
    styledString.setStyle(0, _length_1, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_3 = this.readerKeywords.getBundle();
    String _string_3 = _bundle_3.getString("KEYWORD_REAL");
    ICompletionProposal _createCompletionProposal = this.createCompletionProposal(_string_3, styledString, VaryGrammarProposalProvider.typesClassics, context);
    completionProposal = _createCompletionProposal;
    acceptor.accept(completionProposal);
    ResourceBundle _bundle_4 = this.readerKeywords.getBundle();
    String _string_4 = _bundle_4.getString("KEYWORD_LOGICO");
    StyledString _styledString_1 = new StyledString(_string_4);
    styledString = _styledString_1;
    int _length_2 = styledString.length();
    styledString.setStyle(0, _length_2, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_5 = this.readerKeywords.getBundle();
    String _string_5 = _bundle_5.getString("KEYWORD_LOGICO");
    ICompletionProposal _createCompletionProposal_1 = this.createCompletionProposal(_string_5, styledString, VaryGrammarProposalProvider.typesClassics, context);
    completionProposal = _createCompletionProposal_1;
    acceptor.accept(completionProposal);
    ResourceBundle _bundle_6 = this.readerKeywords.getBundle();
    String _string_6 = _bundle_6.getString("KEYWORD_CARACTER");
    StyledString _styledString_2 = new StyledString(_string_6);
    styledString = _styledString_2;
    int _length_3 = styledString.length();
    styledString.setStyle(0, _length_3, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_7 = this.readerKeywords.getBundle();
    String _string_7 = _bundle_7.getString("KEYWORD_CARACTER");
    ICompletionProposal _createCompletionProposal_2 = this.createCompletionProposal(_string_7, styledString, VaryGrammarProposalProvider.typesClassics, context);
    completionProposal = _createCompletionProposal_2;
    acceptor.accept(completionProposal);
    ResourceBundle _bundle_8 = this.readerKeywords.getBundle();
    String _string_8 = _bundle_8.getString("KEYWORD_CADENA");
    StyledString _styledString_3 = new StyledString(_string_8);
    styledString = _styledString_3;
    int _length_4 = styledString.length();
    styledString.setStyle(0, _length_4, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_9 = this.readerKeywords.getBundle();
    String _string_9 = _bundle_9.getString("KEYWORD_CADENA");
    ICompletionProposal _createCompletionProposal_3 = this.createCompletionProposal(_string_9, styledString, VaryGrammarProposalProvider.typesClassics, context);
    completionProposal = _createCompletionProposal_3;
    acceptor.accept(completionProposal);
  }
  
  @Override
  public void completeAsignacionNormal_Operador(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.completeAsignacionNormalCompleja_Operador(model, assignment, context, acceptor);
  }
  
  public void completeAsignacionNormal_OperadorParametrosSubproceso(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Parametro> parametros) {
    for (final Parametro parametro : parametros) {
      {
        Variable _variable = parametro.getVariable();
        String _nombre = _variable.getNombre();
        String _plus = (_nombre + " : ");
        Tipo _tipo = parametro.getTipo();
        String _nombre_1 = _tipo.getNombre();
        String _plus_1 = (_plus + _nombre_1);
        StyledString styledString = new StyledString(_plus_1);
        Variable _variable_1 = parametro.getVariable();
        String _nombre_2 = _variable_1.getNombre();
        ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.varPrivate, context);
        acceptor.accept(completionProposal);
      }
    }
  }
  
  public void completeAsignacionNormal_OperadorAux(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Declaracion> declaraciones) {
    for (final Declaracion declaracion : declaraciones) {
      if ((declaracion instanceof DeclaracionDefinida)) {
        DeclaracionDefinida dec = ((DeclaracionDefinida) declaracion);
        EList<Variable> _variables = dec.getVariables();
        for (final Variable v : _variables) {
          {
            String _nombre = v.getNombre();
            String _plus = (_nombre + " : ");
            String _tipo = dec.getTipo();
            String _plus_1 = (_plus + _tipo);
            StyledString styledString = new StyledString(_plus_1);
            String _nombre_1 = v.getNombre();
            ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_1, styledString, VaryGrammarProposalProvider.varPrivate, context);
            acceptor.accept(completionProposal);
          }
        }
      } else {
        if ((declaracion instanceof DeclaracionBasica)) {
          DeclaracionBasica dec_1 = ((DeclaracionBasica) declaracion);
          EList<Variable> _variables_1 = dec_1.getVariables();
          for (final Variable v_1 : _variables_1) {
            {
              String _nombre = v_1.getNombre();
              String _plus = (_nombre + " : ");
              String _tipo = dec_1.getTipo();
              String _plus_1 = (_plus + _tipo);
              StyledString styledString = new StyledString(_plus_1);
              String _nombre_1 = v_1.getNombre();
              ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_1, styledString, VaryGrammarProposalProvider.varPrivate, context);
              acceptor.accept(completionProposal);
            }
          }
        }
      }
    }
  }
  
  public void completeAsignacionNormal_OperadorAuxModulos(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<String> variablesLocales, final List<Modulo> modulos) {
    for (final Modulo modulo : modulos) {
      {
        EList<Declaracion> _exporta_globales = modulo.getExporta_globales();
        ArrayList<String> variablesPublicas = this.registrarVariables(_exporta_globales);
        Implementacion _implementacion = modulo.getImplementacion();
        EList<Declaracion> _globales = _implementacion.getGlobales();
        for (final Declaracion declaracion : _globales) {
          if ((declaracion instanceof DeclaracionBasica)) {
            DeclaracionBasica declaracionBasica = ((DeclaracionBasica) declaracion);
            EList<Variable> _variables = declaracionBasica.getVariables();
            for (final Variable variable : _variables) {
              if (((!variablesLocales.contains(variable.getNombre())) && variablesPublicas.contains(variable.getNombre()))) {
                String _nombre = variable.getNombre();
                String _plus = (_nombre + " : ");
                String _tipo = declaracionBasica.getTipo();
                String _plus_1 = (_plus + _tipo);
                StyledString styledString = new StyledString(_plus_1);
                String _nombre_1 = modulo.getNombre();
                String _plus_2 = (" - " + _nombre_1);
                StyledString styledStringAux = new StyledString(_plus_2);
                int _length = styledStringAux.length();
                styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
                styledString.append(styledStringAux);
                String _nombre_2 = variable.getNombre();
                ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.varPublic, context);
                acceptor.accept(completionProposal);
              }
            }
          } else {
            if ((declaracion instanceof DeclaracionDefinida)) {
              DeclaracionDefinida declaracionPropia = ((DeclaracionDefinida) declaracion);
              EList<Variable> _variables_1 = declaracionPropia.getVariables();
              for (final Variable variable_1 : _variables_1) {
                if (((!variablesLocales.contains(variable_1.getNombre())) && variablesPublicas.contains(variable_1.getNombre()))) {
                  String _nombre_3 = variable_1.getNombre();
                  String _plus_3 = (_nombre_3 + " : ");
                  String _tipo_1 = declaracionPropia.getTipo();
                  String _plus_4 = (_plus_3 + _tipo_1);
                  StyledString styledString_1 = new StyledString(_plus_4);
                  String _nombre_4 = modulo.getNombre();
                  String _plus_5 = (" - " + _nombre_4);
                  StyledString styledStringAux_1 = new StyledString(_plus_5);
                  int _length_1 = styledStringAux_1.length();
                  styledStringAux_1.setStyle(0, _length_1, StyledString.QUALIFIER_STYLER);
                  styledString_1.append(styledStringAux_1);
                  String _nombre_5 = variable_1.getNombre();
                  ICompletionProposal completionProposal_1 = this.createCompletionProposal(_nombre_5, styledString_1, VaryGrammarProposalProvider.varPublic, context);
                  acceptor.accept(completionProposal_1);
                }
              }
            }
          }
        }
      }
    }
  }
  
  public ArrayList<String> registrarParametros(final List<Parametro> parametros) {
    ArrayList<String> variables = new ArrayList<String>();
    for (final Parametro parametro : parametros) {
      Variable _variable = parametro.getVariable();
      String _nombre = _variable.getNombre();
      variables.add(_nombre);
    }
    return variables;
  }
  
  public ArrayList<String> registrarVariables(final List<Declaracion> declaraciones) {
    ArrayList<String> variables = new ArrayList<String>();
    for (final Declaracion declaracion : declaraciones) {
      if ((declaracion instanceof DeclaracionBasica)) {
        DeclaracionBasica declaracionBasica = ((DeclaracionBasica) declaracion);
        EList<Variable> _variables = declaracionBasica.getVariables();
        for (final Variable variable : _variables) {
          String _nombre = variable.getNombre();
          variables.add(_nombre);
        }
      } else {
        if ((declaracion instanceof DeclaracionDefinida)) {
          DeclaracionDefinida declaracionDefinida = ((DeclaracionDefinida) declaracion);
          EList<Variable> _variables_1 = declaracionDefinida.getVariables();
          for (final Variable variable_1 : _variables_1) {
            String _nombre_1 = variable_1.getNombre();
            variables.add(_nombre_1);
          }
        }
      }
    }
    return variables;
  }
  
  @Override
  public void completeAsignacionCompleja_Operador(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.completeAsignacionNormalCompleja_Operador(model, assignment, context, acceptor);
  }
  
  public void completeAsignacionNormalCompleja_Operador(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      EObject _currentModel = context.getCurrentModel();
      AsignacionNormal asignacionNormal = ((AsignacionNormal) _currentModel);
      Procedimiento procedimiento = EcoreUtil2.<Procedimiento>getContainerOfType(asignacionNormal, Procedimiento.class);
      Funcion funcion = EcoreUtil2.<Funcion>getContainerOfType(asignacionNormal, Funcion.class);
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      EList<Subproceso> _subprocesos = algoritmo.getSubprocesos();
      this.completeFuncionesAsignacion(context, acceptor, _subprocesos);
      EList<Modulo> _importaciones = algoritmo.getImportaciones();
      this.completeFuncionesAsignacion_Modulos(context, acceptor, _importaciones);
      ArrayList<String> variablesLocales = new ArrayList<String>();
      EList<Declaracion> _globales = algoritmo.getGlobales();
      ArrayList<String> _registrarVariables = this.registrarVariables(_globales);
      variablesLocales = _registrarVariables;
      EList<Declaracion> _globales_1 = algoritmo.getGlobales();
      this.completeAsignacionNormal_OperadorAux(context, acceptor, _globales_1);
      if ((Objects.equal(procedimiento, null) && Objects.equal(funcion, null))) {
        Inicio _inicio = algoritmo.getInicio();
        EList<Declaracion> _declaraciones = _inicio.getDeclaraciones();
        this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones);
        Inicio _inicio_1 = algoritmo.getInicio();
        EList<Declaracion> _declaraciones_1 = _inicio_1.getDeclaraciones();
        ArrayList<String> _registrarVariables_1 = this.registrarVariables(_declaraciones_1);
        variablesLocales.addAll(_registrarVariables_1);
        Inicio _inicio_2 = algoritmo.getInicio();
        EList<Declaracion> _declaraciones_2 = _inicio_2.getDeclaraciones();
        ArrayList<String> _registrarVariables_2 = this.registrarVariables(_declaraciones_2);
        variablesLocales.addAll(_registrarVariables_2);
        EList<Modulo> _importaciones_1 = algoritmo.getImportaciones();
        this.completeAsignacionNormal_OperadorAuxModulos(context, acceptor, variablesLocales, _importaciones_1);
      } else {
        boolean _notEquals = (!Objects.equal(procedimiento, null));
        if (_notEquals) {
          EList<Declaracion> _declaraciones_3 = procedimiento.getDeclaraciones();
          this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_3);
          EList<Parametro> _parametros = procedimiento.getParametros();
          this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros);
          EList<Declaracion> _declaraciones_4 = procedimiento.getDeclaraciones();
          ArrayList<String> _registrarVariables_3 = this.registrarVariables(_declaraciones_4);
          variablesLocales.addAll(_registrarVariables_3);
          EList<Parametro> _parametros_1 = procedimiento.getParametros();
          ArrayList<String> _registrarParametros = this.registrarParametros(_parametros_1);
          variablesLocales.addAll(_registrarParametros);
          EList<Modulo> _importaciones_2 = algoritmo.getImportaciones();
          this.completeAsignacionNormal_OperadorAuxModulos(context, acceptor, variablesLocales, _importaciones_2);
        } else {
          boolean _notEquals_1 = (!Objects.equal(funcion, null));
          if (_notEquals_1) {
            EList<Declaracion> _declaraciones_5 = funcion.getDeclaraciones();
            this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_5);
            EList<Parametro> _parametros_2 = funcion.getParametros();
            this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros_2);
            EList<Declaracion> _declaraciones_6 = funcion.getDeclaraciones();
            ArrayList<String> _registrarVariables_4 = this.registrarVariables(_declaraciones_6);
            variablesLocales.addAll(_registrarVariables_4);
            EList<Parametro> _parametros_3 = funcion.getParametros();
            ArrayList<String> _registrarParametros_1 = this.registrarParametros(_parametros_3);
            variablesLocales.addAll(_registrarParametros_1);
            EList<Modulo> _importaciones_3 = algoritmo.getImportaciones();
            this.completeAsignacionNormal_OperadorAuxModulos(context, acceptor, variablesLocales, _importaciones_3);
          }
        }
      }
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        EObject _currentModel_1 = context.getCurrentModel();
        AsignacionNormal asignacionNormal_1 = ((AsignacionNormal) _currentModel_1);
        Procedimiento procedimiento_1 = EcoreUtil2.<Procedimiento>getContainerOfType(asignacionNormal_1, Procedimiento.class);
        Funcion funcion_1 = EcoreUtil2.<Funcion>getContainerOfType(asignacionNormal_1, Funcion.class);
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        Implementacion _implementacion = modulo.getImplementacion();
        EList<Subproceso> _subprocesos_1 = _implementacion.getSubprocesos();
        this.completeFuncionesAsignacion(context, acceptor, _subprocesos_1);
        EList<Modulo> _importaciones_4 = modulo.getImportaciones();
        this.completeFuncionesAsignacion_Modulos(context, acceptor, _importaciones_4);
        ArrayList<String> variablesLocales_1 = new ArrayList<String>();
        Implementacion _implementacion_1 = modulo.getImplementacion();
        EList<Declaracion> _globales_2 = _implementacion_1.getGlobales();
        ArrayList<String> _registrarVariables_5 = this.registrarVariables(_globales_2);
        variablesLocales_1 = _registrarVariables_5;
        Implementacion _implementacion_2 = modulo.getImplementacion();
        EList<Declaracion> _globales_3 = _implementacion_2.getGlobales();
        this.completeAsignacionNormal_OperadorAux(context, acceptor, _globales_3);
        boolean _notEquals_2 = (!Objects.equal(procedimiento_1, null));
        if (_notEquals_2) {
          EList<Declaracion> _declaraciones_7 = procedimiento_1.getDeclaraciones();
          this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_7);
          EList<Parametro> _parametros_4 = procedimiento_1.getParametros();
          this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros_4);
          EList<Declaracion> _declaraciones_8 = procedimiento_1.getDeclaraciones();
          ArrayList<String> _registrarVariables_6 = this.registrarVariables(_declaraciones_8);
          variablesLocales_1.addAll(_registrarVariables_6);
          EList<Parametro> _parametros_5 = procedimiento_1.getParametros();
          ArrayList<String> _registrarParametros_2 = this.registrarParametros(_parametros_5);
          variablesLocales_1.addAll(_registrarParametros_2);
          EList<Modulo> _importaciones_5 = modulo.getImportaciones();
          this.completeAsignacionNormal_OperadorAuxModulos(context, acceptor, variablesLocales_1, _importaciones_5);
        } else {
          boolean _notEquals_3 = (!Objects.equal(funcion_1, null));
          if (_notEquals_3) {
            EList<Declaracion> _declaraciones_9 = funcion_1.getDeclaraciones();
            this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_9);
            EList<Parametro> _parametros_6 = funcion_1.getParametros();
            this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros_6);
            EList<Declaracion> _declaraciones_10 = funcion_1.getDeclaraciones();
            ArrayList<String> _registrarVariables_7 = this.registrarVariables(_declaraciones_10);
            variablesLocales_1.addAll(_registrarVariables_7);
            EList<Parametro> _parametros_7 = funcion_1.getParametros();
            ArrayList<String> _registrarParametros_3 = this.registrarParametros(_parametros_7);
            variablesLocales_1.addAll(_registrarParametros_3);
            EList<Modulo> _importaciones_6 = modulo.getImportaciones();
            this.completeAsignacionNormal_OperadorAuxModulos(context, acceptor, variablesLocales_1, _importaciones_6);
          }
        }
      }
    }
  }
  
  public void completeFuncionesAsignacion(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Subproceso> subprocesos) {
    for (final Subproceso subproceso : subprocesos) {
      if ((subproceso instanceof Funcion)) {
        Funcion funcion = ((Funcion) subproceso);
        String _nombre = funcion.getNombre();
        String _plus = (_nombre + "(");
        StyledString styledString = new StyledString(_plus);
        EList<Parametro> _parametros = funcion.getParametros();
        int _size = _parametros.size();
        boolean _equals = (_size == 0);
        if (_equals) {
          styledString.append(")");
        } else {
          EList<Parametro> _parametros_1 = funcion.getParametros();
          for (final Parametro p : _parametros_1) {
            EList<Parametro> _parametros_2 = funcion.getParametros();
            int _indexOf = _parametros_2.indexOf(p);
            EList<Parametro> _parametros_3 = funcion.getParametros();
            int _size_1 = _parametros_3.size();
            int _minus = (_size_1 - 1);
            boolean _notEquals = (_indexOf != _minus);
            if (_notEquals) {
              Variable _variable = p.getVariable();
              String _nombre_1 = _variable.getNombre();
              String _plus_1 = (_nombre_1 + ",");
              styledString.append(_plus_1);
            } else {
              Variable _variable_1 = p.getVariable();
              String _nombre_2 = _variable_1.getNombre();
              String _plus_2 = (_nombre_2 + ")");
              styledString.append(_plus_2);
            }
          }
        }
        String content = styledString.toString();
        String _tipo = funcion.getTipo();
        String _plus_3 = (" : " + _tipo);
        styledString.append(_plus_3);
        ICompletionProposal completionProposal = this.createCompletionProposal(content, styledString, VaryGrammarProposalProvider.funcionPrivada, context);
        acceptor.accept(completionProposal);
      }
    }
  }
  
  public void completeFuncionesAsignacion_Modulos(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Modulo> modulos) {
    for (final Modulo modulo : modulos) {
      Implementacion _implementacion = modulo.getImplementacion();
      EList<Subproceso> _subprocesos = _implementacion.getSubprocesos();
      for (final Subproceso subproceso : _subprocesos) {
        if ((subproceso instanceof Funcion)) {
          Funcion funcion = ((Funcion) subproceso);
          EList<CabeceraSubproceso> _exporta_subprocesos = modulo.getExporta_subprocesos();
          ArrayList<String> funciones_publicas = this.registrarFuncionesPublicas(_exporta_subprocesos);
          String _nombre = funcion.getNombre();
          boolean _contains = funciones_publicas.contains(_nombre);
          if (_contains) {
            String _nombre_1 = funcion.getNombre();
            String _plus = (_nombre_1 + "(");
            StyledString styledString = new StyledString(_plus);
            EList<Parametro> _parametros = funcion.getParametros();
            int _size = _parametros.size();
            boolean _equals = (_size == 0);
            if (_equals) {
              styledString.append(")");
            } else {
              EList<Parametro> _parametros_1 = funcion.getParametros();
              for (final Parametro p : _parametros_1) {
                EList<Parametro> _parametros_2 = funcion.getParametros();
                int _indexOf = _parametros_2.indexOf(p);
                EList<Parametro> _parametros_3 = funcion.getParametros();
                int _size_1 = _parametros_3.size();
                int _minus = (_size_1 - 1);
                boolean _notEquals = (_indexOf != _minus);
                if (_notEquals) {
                  Variable _variable = p.getVariable();
                  String _nombre_2 = _variable.getNombre();
                  String _plus_1 = (_nombre_2 + ",");
                  styledString.append(_plus_1);
                } else {
                  Variable _variable_1 = p.getVariable();
                  String _nombre_3 = _variable_1.getNombre();
                  String _plus_2 = (_nombre_3 + ")");
                  styledString.append(_plus_2);
                }
              }
            }
            String contenido = styledString.toString();
            String _tipo = funcion.getTipo();
            String _plus_3 = (" : " + _tipo);
            styledString.append(_plus_3);
            String _nombre_4 = modulo.getNombre();
            String _plus_4 = (" - " + _nombre_4);
            StyledString styledStringAux = new StyledString(_plus_4);
            int _length = styledStringAux.length();
            styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
            styledString.append(styledStringAux);
            ICompletionProposal completionProposal = this.createCompletionProposal(contenido, styledString, VaryGrammarProposalProvider.typesClassics, context);
            acceptor.accept(completionProposal);
          }
        }
      }
    }
  }
  
  public ArrayList<String> registrarFuncionesPublicas(final List<CabeceraSubproceso> cabeceras) {
    ArrayList<String> funcionesPublicas = new ArrayList<String>();
    for (final CabeceraSubproceso cabeceraSubproceso : cabeceras) {
      if ((cabeceraSubproceso instanceof CabeceraFuncion)) {
        String _nombre = ((CabeceraFuncion)cabeceraSubproceso).getNombre();
        funcionesPublicas.add(_nombre);
      }
    }
    return funcionesPublicas;
  }
  
  @Override
  public void completeInicio_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    Algoritmo algoritmo = ((Algoritmo) _rootModel);
    EList<Subproceso> _subprocesos = algoritmo.getSubprocesos();
    for (final Subproceso s : _subprocesos) {
      if ((s instanceof Procedimiento)) {
        Procedimiento procedimiento = ((Procedimiento) s);
        this.complete_SentenciasAux(context, acceptor, procedimiento);
      }
    }
    EList<Modulo> _importaciones = algoritmo.getImportaciones();
    this.complete_SentenciasAux_Modulos(context, acceptor, _importaciones);
  }
  
  @Override
  public void completeProcedimiento_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeFuncion_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeSi_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeMientras_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeRepetir_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeDesde_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeCaso_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeSegun_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  @Override
  public void completeSino_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.complete_Sentencias(model, assignment, context, acceptor);
  }
  
  public void complete_Sentencias(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      EList<Subproceso> _subprocesos = algoritmo.getSubprocesos();
      for (final Subproceso s : _subprocesos) {
        if ((s instanceof Procedimiento)) {
          Procedimiento procedimiento = ((Procedimiento) s);
          this.complete_SentenciasAux(context, acceptor, procedimiento);
        }
      }
      EList<Modulo> _importaciones = algoritmo.getImportaciones();
      this.complete_SentenciasAux_Modulos(context, acceptor, _importaciones);
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        Implementacion _implementacion = modulo.getImplementacion();
        EList<Subproceso> _subprocesos_1 = _implementacion.getSubprocesos();
        for (final Subproceso s_1 : _subprocesos_1) {
          {
            Procedimiento procedimiento_1 = ((Procedimiento) s_1);
            this.complete_SentenciasAux(context, acceptor, procedimiento_1);
          }
        }
        EList<Modulo> _importaciones_1 = modulo.getImportaciones();
        this.complete_SentenciasAux_Modulos(context, acceptor, _importaciones_1);
      }
    }
  }
  
  public void complete_SentenciasAux(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final Procedimiento procedimiento) {
    String _nombre = procedimiento.getNombre();
    String _plus = (_nombre + "(");
    StyledString styledString = new StyledString(_plus);
    EList<Parametro> _parametros = procedimiento.getParametros();
    int _size = _parametros.size();
    boolean _equals = (_size == 0);
    if (_equals) {
      styledString.append(")");
    } else {
      EList<Parametro> _parametros_1 = procedimiento.getParametros();
      for (final Parametro p : _parametros_1) {
        EList<Parametro> _parametros_2 = procedimiento.getParametros();
        int _indexOf = _parametros_2.indexOf(p);
        EList<Parametro> _parametros_3 = procedimiento.getParametros();
        int _size_1 = _parametros_3.size();
        int _minus = (_size_1 - 1);
        boolean _notEquals = (_indexOf != _minus);
        if (_notEquals) {
          Variable _variable = p.getVariable();
          String _nombre_1 = _variable.getNombre();
          String _plus_1 = (_nombre_1 + ",");
          styledString.append(_plus_1);
        } else {
          Variable _variable_1 = p.getVariable();
          String _nombre_2 = _variable_1.getNombre();
          String _plus_2 = (_nombre_2 + ")");
          styledString.append(_plus_2);
        }
      }
    }
    String _string = styledString.toString();
    ICompletionProposal completionProposal = this.createCompletionProposal(_string, styledString, VaryGrammarProposalProvider.funcionPrivada, context);
    acceptor.accept(completionProposal);
  }
  
  public void complete_SentenciasAux_Modulos(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Modulo> modulos) {
    String procedimiento_literal = new String();
    for (final Modulo modulo : modulos) {
      Implementacion _implementacion = modulo.getImplementacion();
      EList<Subproceso> _subprocesos = _implementacion.getSubprocesos();
      for (final Subproceso subproceso : _subprocesos) {
        if ((subproceso instanceof Procedimiento)) {
          Procedimiento procedimiento = ((Procedimiento) subproceso);
          EList<CabeceraSubproceso> _exporta_subprocesos = modulo.getExporta_subprocesos();
          for (final CabeceraSubproceso cabeceraFuncion : _exporta_subprocesos) {
            if ((cabeceraFuncion.getNombre().equals(procedimiento.getNombre()) && (cabeceraFuncion.getParametros().size() == procedimiento.getParametros().size()))) {
              String _nombre = procedimiento.getNombre();
              String _plus = (_nombre + "(");
              StyledString styledString = new StyledString(_plus);
              String _nombre_1 = procedimiento.getNombre();
              String _plus_1 = (_nombre_1 + "(");
              procedimiento_literal = _plus_1;
              EList<Parametro> _parametros = procedimiento.getParametros();
              int _size = _parametros.size();
              boolean _equals = (_size == 0);
              if (_equals) {
                styledString.append(")");
                procedimiento_literal = (procedimiento_literal + ")");
              } else {
                EList<Parametro> _parametros_1 = procedimiento.getParametros();
                for (final Parametro p : _parametros_1) {
                  EList<Parametro> _parametros_2 = procedimiento.getParametros();
                  int _indexOf = _parametros_2.indexOf(p);
                  EList<Parametro> _parametros_3 = procedimiento.getParametros();
                  int _size_1 = _parametros_3.size();
                  int _minus = (_size_1 - 1);
                  boolean _notEquals = (_indexOf != _minus);
                  if (_notEquals) {
                    Variable _variable = p.getVariable();
                    String _nombre_2 = _variable.getNombre();
                    String _plus_2 = (_nombre_2 + ",");
                    styledString.append(_plus_2);
                    Variable _variable_1 = p.getVariable();
                    String _nombre_3 = _variable_1.getNombre();
                    String _plus_3 = (procedimiento_literal + _nombre_3);
                    String _plus_4 = (_plus_3 + ",");
                    procedimiento_literal = _plus_4;
                  } else {
                    Variable _variable_2 = p.getVariable();
                    String _nombre_4 = _variable_2.getNombre();
                    String _plus_5 = (_nombre_4 + ")");
                    styledString.append(_plus_5);
                    Variable _variable_3 = p.getVariable();
                    String _nombre_5 = _variable_3.getNombre();
                    String _plus_6 = (procedimiento_literal + _nombre_5);
                    String _plus_7 = (_plus_6 + ")");
                    procedimiento_literal = _plus_7;
                  }
                }
              }
              String _nombre_6 = modulo.getNombre();
              String _plus_8 = (" - " + _nombre_6);
              StyledString styledStringAux = new StyledString(_plus_8);
              int _length = styledStringAux.length();
              styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
              styledString.append(styledStringAux);
              ICompletionProposal completionProposal = this.createCompletionProposal(procedimiento_literal, styledString, VaryGrammarProposalProvider.typesClassics, context);
              acceptor.accept(completionProposal);
            }
          }
        }
      }
    }
  }
  
  @Override
  public void completeFunciones_Parametros(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      EObject _currentModel = context.getCurrentModel();
      LlamadaFuncion llamadaFuncion = ((LlamadaFuncion) _currentModel);
      Procedimiento procedimiento = EcoreUtil2.<Procedimiento>getContainerOfType(llamadaFuncion, Procedimiento.class);
      Funcion funcion = EcoreUtil2.<Funcion>getContainerOfType(llamadaFuncion, Funcion.class);
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      EList<Declaracion> _globales = algoritmo.getGlobales();
      this.completeAsignacionNormal_OperadorAux(context, acceptor, _globales);
      if ((Objects.equal(procedimiento, null) && Objects.equal(funcion, null))) {
        Inicio _inicio = algoritmo.getInicio();
        EList<Declaracion> _declaraciones = _inicio.getDeclaraciones();
        this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones);
      } else {
        boolean _notEquals = (!Objects.equal(procedimiento, null));
        if (_notEquals) {
          EList<Declaracion> _declaraciones_1 = procedimiento.getDeclaraciones();
          this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_1);
          EList<Parametro> _parametros = procedimiento.getParametros();
          this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros);
        } else {
          boolean _notEquals_1 = (!Objects.equal(funcion, null));
          if (_notEquals_1) {
            EList<Declaracion> _declaraciones_2 = funcion.getDeclaraciones();
            this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_2);
            EList<Parametro> _parametros_1 = funcion.getParametros();
            this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros_1);
          }
        }
      }
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        EObject _currentModel_1 = context.getCurrentModel();
        LlamadaFuncion llamadaFuncion_1 = ((LlamadaFuncion) _currentModel_1);
        Procedimiento procedimiento_1 = EcoreUtil2.<Procedimiento>getContainerOfType(llamadaFuncion_1, Procedimiento.class);
        Funcion funcion_1 = EcoreUtil2.<Funcion>getContainerOfType(llamadaFuncion_1, Funcion.class);
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        Implementacion _implementacion = modulo.getImplementacion();
        EList<Declaracion> _globales_1 = _implementacion.getGlobales();
        this.completeAsignacionNormal_OperadorAux(context, acceptor, _globales_1);
        boolean _notEquals_2 = (!Objects.equal(procedimiento_1, null));
        if (_notEquals_2) {
          EList<Declaracion> _declaraciones_3 = procedimiento_1.getDeclaraciones();
          this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_3);
          EList<Parametro> _parametros_2 = procedimiento_1.getParametros();
          this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros_2);
        } else {
          boolean _notEquals_3 = (!Objects.equal(funcion_1, null));
          if (_notEquals_3) {
            EList<Declaracion> _declaraciones_4 = funcion_1.getDeclaraciones();
            this.completeAsignacionNormal_OperadorAux(context, acceptor, _declaraciones_4);
            EList<Parametro> _parametros_3 = funcion_1.getParametros();
            this.completeAsignacionNormal_OperadorParametrosSubproceso(context, acceptor, _parametros_3);
          }
        }
      }
    }
  }
  
  @Override
  public void completeCampoRegistro_Nombre_campo(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      EObject _currentModel = context.getCurrentModel();
      if ((_currentModel instanceof ValorRegistro)) {
        EObject _currentModel_1 = context.getCurrentModel();
        ValorRegistro valorRegistro = ((ValorRegistro) _currentModel_1);
        Procedimiento procedimiento = EcoreUtil2.<Procedimiento>getContainerOfType(valorRegistro, Procedimiento.class);
        Funcion funcion = EcoreUtil2.<Funcion>getContainerOfType(valorRegistro, Funcion.class);
        EObject _rootModel_1 = context.getRootModel();
        Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
        if ((Objects.equal(procedimiento, null) && Objects.equal(funcion, null))) {
          Inicio _inicio = algoritmo.getInicio();
          EList<Declaracion> declaraciones = _inicio.getDeclaraciones();
          EList<Declaracion> _globales = algoritmo.getGlobales();
          declaraciones.addAll(_globales);
          EList<TipoComplejo> complejos = algoritmo.getComplejos();
          String _nombre_registro = valorRegistro.getNombre_registro();
          this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones, complejos, _nombre_registro);
          String _nombre_registro_1 = valorRegistro.getNombre_registro();
          EList<Modulo> _importaciones = algoritmo.getImportaciones();
          this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones, complejos, _nombre_registro_1, _importaciones);
        } else {
          boolean _notEquals = (!Objects.equal(procedimiento, null));
          if (_notEquals) {
            EList<Declaracion> declaraciones_1 = procedimiento.getDeclaraciones();
            EList<Declaracion> _globales_1 = algoritmo.getGlobales();
            declaraciones_1.addAll(_globales_1);
            EList<TipoComplejo> complejos_1 = algoritmo.getComplejos();
            String _nombre_registro_2 = valorRegistro.getNombre_registro();
            this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_1, complejos_1, _nombre_registro_2);
            String _nombre_registro_3 = valorRegistro.getNombre_registro();
            EList<Modulo> _importaciones_1 = algoritmo.getImportaciones();
            this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_1, complejos_1, _nombre_registro_3, _importaciones_1);
          } else {
            EList<Declaracion> declaraciones_2 = funcion.getDeclaraciones();
            EList<Declaracion> _globales_2 = algoritmo.getGlobales();
            declaraciones_2.addAll(_globales_2);
            EList<TipoComplejo> complejos_2 = algoritmo.getComplejos();
            String _nombre_registro_4 = valorRegistro.getNombre_registro();
            this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_2, complejos_2, _nombre_registro_4);
            String _nombre_registro_5 = valorRegistro.getNombre_registro();
            EList<Modulo> _importaciones_2 = algoritmo.getImportaciones();
            this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_2, complejos_2, _nombre_registro_5, _importaciones_2);
          }
        }
      } else {
        EObject _currentModel_2 = context.getCurrentModel();
        if ((_currentModel_2 instanceof ValorVector)) {
          EObject _currentModel_3 = context.getCurrentModel();
          ValorVector valorVector = ((ValorVector) _currentModel_3);
          Procedimiento procedimiento_1 = EcoreUtil2.<Procedimiento>getContainerOfType(valorVector, Procedimiento.class);
          Funcion funcion_1 = EcoreUtil2.<Funcion>getContainerOfType(valorVector, Funcion.class);
          EObject _rootModel_2 = context.getRootModel();
          Algoritmo algoritmo_1 = ((Algoritmo) _rootModel_2);
          if ((Objects.equal(procedimiento_1, null) && Objects.equal(funcion_1, null))) {
            Inicio _inicio_1 = algoritmo_1.getInicio();
            EList<Declaracion> declaraciones_3 = _inicio_1.getDeclaraciones();
            EList<Declaracion> _globales_3 = algoritmo_1.getGlobales();
            declaraciones_3.addAll(_globales_3);
            EList<TipoComplejo> complejos_3 = algoritmo_1.getComplejos();
            String _nombre_vector = valorVector.getNombre_vector();
            this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_3, complejos_3, _nombre_vector);
            String _nombre_vector_1 = valorVector.getNombre_vector();
            EList<Modulo> _importaciones_3 = algoritmo_1.getImportaciones();
            this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_3, complejos_3, _nombre_vector_1, _importaciones_3);
          } else {
            boolean _notEquals_1 = (!Objects.equal(procedimiento_1, null));
            if (_notEquals_1) {
              EList<Declaracion> declaraciones_4 = procedimiento_1.getDeclaraciones();
              EList<Declaracion> _globales_4 = algoritmo_1.getGlobales();
              declaraciones_4.addAll(_globales_4);
              EList<TipoComplejo> complejos_4 = algoritmo_1.getComplejos();
              String _nombre_vector_2 = valorVector.getNombre_vector();
              this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_4, complejos_4, _nombre_vector_2);
              String _nombre_vector_3 = valorVector.getNombre_vector();
              EList<Modulo> _importaciones_4 = algoritmo_1.getImportaciones();
              this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_4, complejos_4, _nombre_vector_3, _importaciones_4);
            } else {
              EList<Declaracion> declaraciones_5 = funcion_1.getDeclaraciones();
              EList<Declaracion> _globales_5 = algoritmo_1.getGlobales();
              declaraciones_5.addAll(_globales_5);
              EList<TipoComplejo> complejos_5 = algoritmo_1.getComplejos();
              String _nombre_vector_4 = valorVector.getNombre_vector();
              this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_5, complejos_5, _nombre_vector_4);
              String _nombre_vector_5 = valorVector.getNombre_vector();
              EList<Modulo> _importaciones_5 = algoritmo_1.getImportaciones();
              this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_5, complejos_5, _nombre_vector_5, _importaciones_5);
            }
          }
        } else {
          EObject _currentModel_4 = context.getCurrentModel();
          if ((_currentModel_4 instanceof ValorMatriz)) {
            EObject _currentModel_5 = context.getCurrentModel();
            ValorMatriz valorMatriz = ((ValorMatriz) _currentModel_5);
            Procedimiento procedimiento_2 = EcoreUtil2.<Procedimiento>getContainerOfType(valorMatriz, Procedimiento.class);
            Funcion funcion_2 = EcoreUtil2.<Funcion>getContainerOfType(valorMatriz, Funcion.class);
            EObject _rootModel_3 = context.getRootModel();
            Algoritmo algoritmo_2 = ((Algoritmo) _rootModel_3);
            if ((Objects.equal(procedimiento_2, null) && Objects.equal(funcion_2, null))) {
              Inicio _inicio_2 = algoritmo_2.getInicio();
              EList<Declaracion> declaraciones_6 = _inicio_2.getDeclaraciones();
              EList<Declaracion> _globales_6 = algoritmo_2.getGlobales();
              declaraciones_6.addAll(_globales_6);
              EList<TipoComplejo> complejos_6 = algoritmo_2.getComplejos();
              String _nombre_matriz = valorMatriz.getNombre_matriz();
              this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_6, complejos_6, _nombre_matriz);
              String _nombre_matriz_1 = valorMatriz.getNombre_matriz();
              EList<Modulo> _importaciones_6 = algoritmo_2.getImportaciones();
              this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_6, complejos_6, _nombre_matriz_1, _importaciones_6);
            } else {
              boolean _notEquals_2 = (!Objects.equal(procedimiento_2, null));
              if (_notEquals_2) {
                EList<Declaracion> declaraciones_7 = procedimiento_2.getDeclaraciones();
                EList<Declaracion> _globales_7 = algoritmo_2.getGlobales();
                declaraciones_7.addAll(_globales_7);
                EList<TipoComplejo> complejos_7 = algoritmo_2.getComplejos();
                String _nombre_matriz_2 = valorMatriz.getNombre_matriz();
                this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_7, complejos_7, _nombre_matriz_2);
                String _nombre_matriz_3 = valorMatriz.getNombre_matriz();
                EList<Modulo> _importaciones_7 = algoritmo_2.getImportaciones();
                this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_7, complejos_7, _nombre_matriz_3, _importaciones_7);
              } else {
                EList<Declaracion> declaraciones_8 = funcion_2.getDeclaraciones();
                EList<Declaracion> _globales_8 = algoritmo_2.getGlobales();
                declaraciones_8.addAll(_globales_8);
                EList<TipoComplejo> complejos_8 = algoritmo_2.getComplejos();
                String _nombre_matriz_4 = valorMatriz.getNombre_matriz();
                this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_8, complejos_8, _nombre_matriz_4);
                String _nombre_matriz_5 = valorMatriz.getNombre_matriz();
                EList<Modulo> _importaciones_8 = algoritmo_2.getImportaciones();
                this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_8, complejos_8, _nombre_matriz_5, _importaciones_8);
              }
            }
          }
        }
      }
    } else {
      EObject _rootModel_4 = context.getRootModel();
      if ((_rootModel_4 instanceof Modulo)) {
        EObject _rootModel_5 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_5);
        EObject _currentModel_6 = context.getCurrentModel();
        if ((_currentModel_6 instanceof ValorRegistro)) {
          EObject _currentModel_7 = context.getCurrentModel();
          ValorRegistro valorRegistro_1 = ((ValorRegistro) _currentModel_7);
          Procedimiento procedimiento_3 = EcoreUtil2.<Procedimiento>getContainerOfType(valorRegistro_1, Procedimiento.class);
          Funcion funcion_3 = EcoreUtil2.<Funcion>getContainerOfType(valorRegistro_1, Funcion.class);
          boolean _notEquals_3 = (!Objects.equal(procedimiento_3, null));
          if (_notEquals_3) {
            EList<Declaracion> declaraciones_9 = procedimiento_3.getDeclaraciones();
            Implementacion _implementacion = modulo.getImplementacion();
            EList<Declaracion> _globales_9 = _implementacion.getGlobales();
            declaraciones_9.addAll(_globales_9);
            Implementacion _implementacion_1 = modulo.getImplementacion();
            EList<TipoComplejo> complejos_9 = _implementacion_1.getComplejos();
            String _nombre_registro_6 = valorRegistro_1.getNombre_registro();
            this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_9, complejos_9, _nombre_registro_6);
            String _nombre_registro_7 = valorRegistro_1.getNombre_registro();
            EList<Modulo> _importaciones_9 = modulo.getImportaciones();
            this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_9, complejos_9, _nombre_registro_7, _importaciones_9);
          } else {
            EList<Declaracion> declaraciones_10 = funcion_3.getDeclaraciones();
            Implementacion _implementacion_2 = modulo.getImplementacion();
            EList<Declaracion> _globales_10 = _implementacion_2.getGlobales();
            declaraciones_10.addAll(_globales_10);
            Implementacion _implementacion_3 = modulo.getImplementacion();
            EList<TipoComplejo> complejos_10 = _implementacion_3.getComplejos();
            String _nombre_registro_8 = valorRegistro_1.getNombre_registro();
            this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_10, complejos_10, _nombre_registro_8);
            String _nombre_registro_9 = valorRegistro_1.getNombre_registro();
            EList<Modulo> _importaciones_10 = modulo.getImportaciones();
            this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_10, complejos_10, _nombre_registro_9, _importaciones_10);
          }
        } else {
          EObject _currentModel_8 = context.getCurrentModel();
          if ((_currentModel_8 instanceof ValorVector)) {
            EObject _currentModel_9 = context.getCurrentModel();
            ValorVector valorVector_1 = ((ValorVector) _currentModel_9);
            Procedimiento procedimiento_4 = EcoreUtil2.<Procedimiento>getContainerOfType(valorVector_1, Procedimiento.class);
            Funcion funcion_4 = EcoreUtil2.<Funcion>getContainerOfType(valorVector_1, Funcion.class);
            boolean _notEquals_4 = (!Objects.equal(procedimiento_4, null));
            if (_notEquals_4) {
              EList<Declaracion> declaraciones_11 = procedimiento_4.getDeclaraciones();
              Implementacion _implementacion_4 = modulo.getImplementacion();
              EList<Declaracion> _globales_11 = _implementacion_4.getGlobales();
              declaraciones_11.addAll(_globales_11);
              Implementacion _implementacion_5 = modulo.getImplementacion();
              EList<TipoComplejo> complejos_11 = _implementacion_5.getComplejos();
              String _nombre_vector_6 = valorVector_1.getNombre_vector();
              this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_11, complejos_11, _nombre_vector_6);
              String _nombre_vector_7 = valorVector_1.getNombre_vector();
              EList<Modulo> _importaciones_11 = modulo.getImportaciones();
              this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_11, complejos_11, _nombre_vector_7, _importaciones_11);
            } else {
              EList<Declaracion> declaraciones_12 = funcion_4.getDeclaraciones();
              Implementacion _implementacion_6 = modulo.getImplementacion();
              EList<Declaracion> _globales_12 = _implementacion_6.getGlobales();
              declaraciones_12.addAll(_globales_12);
              Implementacion _implementacion_7 = modulo.getImplementacion();
              EList<TipoComplejo> complejos_12 = _implementacion_7.getComplejos();
              String _nombre_vector_8 = valorVector_1.getNombre_vector();
              this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_12, complejos_12, _nombre_vector_8);
              String _nombre_vector_9 = valorVector_1.getNombre_vector();
              EList<Modulo> _importaciones_12 = modulo.getImportaciones();
              this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_12, complejos_12, _nombre_vector_9, _importaciones_12);
            }
          } else {
            EObject _currentModel_10 = context.getCurrentModel();
            if ((_currentModel_10 instanceof ValorMatriz)) {
              EObject _currentModel_11 = context.getCurrentModel();
              ValorMatriz valorMatriz_1 = ((ValorMatriz) _currentModel_11);
              Procedimiento procedimiento_5 = EcoreUtil2.<Procedimiento>getContainerOfType(valorMatriz_1, Procedimiento.class);
              Funcion funcion_5 = EcoreUtil2.<Funcion>getContainerOfType(valorMatriz_1, Funcion.class);
              boolean _notEquals_5 = (!Objects.equal(procedimiento_5, null));
              if (_notEquals_5) {
                EList<Declaracion> declaraciones_13 = procedimiento_5.getDeclaraciones();
                Implementacion _implementacion_8 = modulo.getImplementacion();
                EList<Declaracion> _globales_13 = _implementacion_8.getGlobales();
                declaraciones_13.addAll(_globales_13);
                Implementacion _implementacion_9 = modulo.getImplementacion();
                EList<TipoComplejo> complejos_13 = _implementacion_9.getComplejos();
                String _nombre_matriz_6 = valorMatriz_1.getNombre_matriz();
                this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_13, complejos_13, _nombre_matriz_6);
                String _nombre_matriz_7 = valorMatriz_1.getNombre_matriz();
                EList<Modulo> _importaciones_13 = modulo.getImportaciones();
                this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_13, complejos_13, _nombre_matriz_7, _importaciones_13);
              } else {
                EList<Declaracion> declaraciones_14 = funcion_5.getDeclaraciones();
                Implementacion _implementacion_10 = modulo.getImplementacion();
                EList<Declaracion> _globales_14 = _implementacion_10.getGlobales();
                declaraciones_14.addAll(_globales_14);
                Implementacion _implementacion_11 = modulo.getImplementacion();
                EList<TipoComplejo> complejos_14 = _implementacion_11.getComplejos();
                String _nombre_matriz_8 = valorMatriz_1.getNombre_matriz();
                this.completeCampoRegistro_Nombre_campoAux(context, acceptor, declaraciones_14, complejos_14, _nombre_matriz_8);
                String _nombre_matriz_9 = valorMatriz_1.getNombre_matriz();
                EList<Modulo> _importaciones_14 = modulo.getImportaciones();
                this.completeCampoRegistro_Nombre_CampoAux_Modulos(context, acceptor, declaraciones_14, complejos_14, _nombre_matriz_9, _importaciones_14);
              }
            }
          }
        }
      }
    }
  }
  
  public void completeCampoRegistro_Nombre_campoAux(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Declaracion> declaraciones, final List<TipoComplejo> complejos, final String nombreVariable) {
    String tipo = new String();
    EObject _currentModel = context.getCurrentModel();
    if ((_currentModel instanceof ValorRegistro)) {
      for (final Declaracion dec : declaraciones) {
        if ((dec instanceof DeclaracionDefinida)) {
          DeclaracionDefinida declaracionDefinida = ((DeclaracionDefinida) dec);
          EList<Variable> _variables = declaracionDefinida.getVariables();
          for (final Variable v : _variables) {
            String _nombre = v.getNombre();
            boolean _equals = _nombre.equals(nombreVariable);
            if (_equals) {
              String _tipo = declaracionDefinida.getTipo();
              tipo = _tipo;
            }
          }
        } else {
          DeclaracionBasica declaracionBasica = ((DeclaracionBasica) dec);
          EList<Variable> _variables_1 = declaracionBasica.getVariables();
          for (final Variable v_1 : _variables_1) {
            String _nombre_1 = v_1.getNombre();
            boolean _equals_1 = _nombre_1.equals(nombreVariable);
            if (_equals_1) {
              String _tipo_1 = declaracionBasica.getTipo();
              tipo = _tipo_1;
            }
          }
        }
      }
    } else {
      if (((context.getCurrentModel() instanceof ValorVector) || (context.getCurrentModel() instanceof ValorMatriz))) {
        for (final Declaracion dec_1 : declaraciones) {
          if ((dec_1 instanceof DeclaracionDefinida)) {
            DeclaracionDefinida declaracionDefinida_1 = ((DeclaracionDefinida) dec_1);
            EList<Variable> _variables_2 = declaracionDefinida_1.getVariables();
            for (final Variable v_2 : _variables_2) {
              String _nombre_2 = v_2.getNombre();
              boolean _equals_2 = _nombre_2.equals(nombreVariable);
              if (_equals_2) {
                String _tipo_2 = declaracionDefinida_1.getTipo();
                tipo = _tipo_2;
              }
            }
          } else {
            DeclaracionBasica declaracionBasica_1 = ((DeclaracionBasica) dec_1);
            EList<Variable> _variables_3 = declaracionBasica_1.getVariables();
            for (final Variable v_3 : _variables_3) {
              String _nombre_3 = v_3.getNombre();
              boolean _equals_3 = _nombre_3.equals(nombreVariable);
              if (_equals_3) {
                String _tipo_3 = declaracionBasica_1.getTipo();
                tipo = _tipo_3;
              }
            }
          }
        }
        for (final TipoComplejo complejo : complejos) {
          if ((complejo instanceof Vector)) {
            Vector vector = ((Vector) complejo);
            String _nombre_4 = vector.getNombre();
            boolean _equals_4 = _nombre_4.equals(tipo);
            if (_equals_4) {
              Tipo _tipo_4 = vector.getTipo();
              String _nombre_5 = _tipo_4.getNombre();
              tipo = _nombre_5;
            }
          } else {
            if ((complejo instanceof Matriz)) {
              Matriz matriz = ((Matriz) complejo);
              String _nombre_6 = matriz.getNombre();
              boolean _equals_5 = _nombre_6.equals(tipo);
              if (_equals_5) {
                Tipo _tipo_5 = matriz.getTipo();
                String _nombre_7 = _tipo_5.getNombre();
                tipo = _nombre_7;
              }
            }
          }
        }
      }
    }
    for (final TipoComplejo complejo_1 : complejos) {
      if ((complejo_1 instanceof Registro)) {
        Registro registro = ((Registro) complejo_1);
        String _nombre_8 = registro.getNombre();
        boolean _equals_6 = _nombre_8.equals(tipo);
        if (_equals_6) {
          EList<Declaracion> _campos = registro.getCampos();
          for (final Declaracion dec_2 : _campos) {
            if ((dec_2 instanceof DeclaracionDefinida)) {
              DeclaracionDefinida declaracionDefinida_2 = ((DeclaracionDefinida) dec_2);
              EList<Variable> _variables_4 = declaracionDefinida_2.getVariables();
              for (final Variable v_4 : _variables_4) {
                {
                  String _nombre_9 = v_4.getNombre();
                  String _plus = (_nombre_9 + " : ");
                  String _tipo_6 = declaracionDefinida_2.getTipo();
                  String _plus_1 = (_plus + _tipo_6);
                  String _plus_2 = (_plus_1 + " : ");
                  String _plus_3 = (_plus_2 + tipo);
                  StyledString styledString = new StyledString(_plus_3);
                  String _nombre_10 = v_4.getNombre();
                  ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_10, styledString, VaryGrammarProposalProvider.fieldRegistry, context);
                  acceptor.accept(completionProposal);
                }
              }
            } else {
              DeclaracionBasica declaracionBasica_2 = ((DeclaracionBasica) dec_2);
              EList<Variable> _variables_5 = declaracionBasica_2.getVariables();
              for (final Variable v_5 : _variables_5) {
                {
                  String _nombre_9 = v_5.getNombre();
                  String _plus = (_nombre_9 + " : ");
                  String _tipo_6 = declaracionBasica_2.getTipo();
                  String _plus_1 = (_plus + _tipo_6);
                  String _plus_2 = (_plus_1 + " : ");
                  String _plus_3 = (_plus_2 + tipo);
                  StyledString styledString = new StyledString(_plus_3);
                  String _nombre_10 = v_5.getNombre();
                  ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_10, styledString, VaryGrammarProposalProvider.fieldRegistry, context);
                  acceptor.accept(completionProposal);
                }
              }
            }
          }
        }
      }
    }
  }
  
  public void completeCampoRegistro_Nombre_CampoAux_Modulos(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Declaracion> declaraciones, final List<TipoComplejo> complejos, final String nombreVariable, final List<Modulo> modulos) {
    for (final Modulo modulo : modulos) {
      {
        String tipo = new String();
        EObject _currentModel = context.getCurrentModel();
        if ((_currentModel instanceof ValorRegistro)) {
          for (final Declaracion dec : declaraciones) {
            if ((dec instanceof DeclaracionDefinida)) {
              DeclaracionDefinida declaracionDefinida = ((DeclaracionDefinida) dec);
              EList<Variable> _variables = declaracionDefinida.getVariables();
              for (final Variable v : _variables) {
                String _nombre = v.getNombre();
                boolean _equals = _nombre.equals(nombreVariable);
                if (_equals) {
                  String _tipo = declaracionDefinida.getTipo();
                  tipo = _tipo;
                }
              }
            } else {
              DeclaracionBasica declaracionBasica = ((DeclaracionBasica) dec);
              EList<Variable> _variables_1 = declaracionBasica.getVariables();
              for (final Variable v_1 : _variables_1) {
                String _nombre_1 = v_1.getNombre();
                boolean _equals_1 = _nombre_1.equals(nombreVariable);
                if (_equals_1) {
                  String _tipo_1 = declaracionBasica.getTipo();
                  tipo = _tipo_1;
                }
              }
            }
          }
        } else {
          if (((context.getCurrentModel() instanceof ValorVector) || (context.getCurrentModel() instanceof ValorMatriz))) {
            for (final Declaracion dec_1 : declaraciones) {
              if ((dec_1 instanceof DeclaracionDefinida)) {
                DeclaracionDefinida declaracionDefinida_1 = ((DeclaracionDefinida) dec_1);
                EList<Variable> _variables_2 = declaracionDefinida_1.getVariables();
                for (final Variable v_2 : _variables_2) {
                  String _nombre_2 = v_2.getNombre();
                  boolean _equals_2 = _nombre_2.equals(nombreVariable);
                  if (_equals_2) {
                    String _tipo_2 = declaracionDefinida_1.getTipo();
                    tipo = _tipo_2;
                  }
                }
              } else {
                DeclaracionBasica declaracionBasica_1 = ((DeclaracionBasica) dec_1);
                EList<Variable> _variables_3 = declaracionBasica_1.getVariables();
                for (final Variable v_3 : _variables_3) {
                  String _nombre_3 = v_3.getNombre();
                  boolean _equals_3 = _nombre_3.equals(nombreVariable);
                  if (_equals_3) {
                    String _tipo_3 = declaracionBasica_1.getTipo();
                    tipo = _tipo_3;
                  }
                }
              }
            }
            Implementacion _implementacion = modulo.getImplementacion();
            EList<TipoComplejo> _complejos = _implementacion.getComplejos();
            for (final TipoComplejo complejo : _complejos) {
              boolean _contains = complejos.contains(complejo);
              boolean _not = (!_contains);
              if (_not) {
                if ((complejo instanceof Vector)) {
                  Vector vector = ((Vector) complejo);
                  String _nombre_4 = vector.getNombre();
                  boolean _equals_4 = _nombre_4.equals(tipo);
                  if (_equals_4) {
                    Tipo _tipo_4 = vector.getTipo();
                    String _nombre_5 = _tipo_4.getNombre();
                    tipo = _nombre_5;
                  }
                } else {
                  if ((complejo instanceof Matriz)) {
                    Matriz matriz = ((Matriz) complejo);
                    String _nombre_6 = matriz.getNombre();
                    boolean _equals_5 = _nombre_6.equals(tipo);
                    if (_equals_5) {
                      Tipo _tipo_5 = matriz.getTipo();
                      String _nombre_7 = _tipo_5.getNombre();
                      tipo = _nombre_7;
                    }
                  }
                }
              }
            }
          }
        }
        for (final TipoComplejo complejo_1 : complejos) {
          boolean _contains_1 = complejos.contains(complejo_1);
          boolean _not_1 = (!_contains_1);
          if (_not_1) {
            if ((complejo_1 instanceof Registro)) {
              Registro registro = ((Registro) complejo_1);
              String _nombre_8 = registro.getNombre();
              boolean _equals_6 = _nombre_8.equals(tipo);
              if (_equals_6) {
                EList<Declaracion> _campos = registro.getCampos();
                for (final Declaracion dec_2 : _campos) {
                  if ((dec_2 instanceof DeclaracionDefinida)) {
                    DeclaracionDefinida declaracionDefinida_2 = ((DeclaracionDefinida) dec_2);
                    EList<Variable> _variables_4 = declaracionDefinida_2.getVariables();
                    for (final Variable v_4 : _variables_4) {
                      {
                        String _nombre_9 = v_4.getNombre();
                        String _plus = (_nombre_9 + " : ");
                        String _tipo_6 = declaracionDefinida_2.getTipo();
                        String _plus_1 = (_plus + _tipo_6);
                        String _plus_2 = (_plus_1 + " : ");
                        String _plus_3 = (_plus_2 + tipo);
                        StyledString styledString = new StyledString(_plus_3);
                        String _nombre_10 = modulo.getNombre();
                        String _plus_4 = (" - " + _nombre_10);
                        StyledString styledStringAux = new StyledString(_plus_4);
                        int _length = styledStringAux.length();
                        styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
                        styledString.append(styledStringAux);
                        String _nombre_11 = v_4.getNombre();
                        ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_11, styledString, VaryGrammarProposalProvider.fieldRegistry, context);
                        acceptor.accept(completionProposal);
                      }
                    }
                  } else {
                    DeclaracionBasica declaracionBasica_2 = ((DeclaracionBasica) dec_2);
                    EList<Variable> _variables_5 = declaracionBasica_2.getVariables();
                    for (final Variable v_5 : _variables_5) {
                      {
                        String _nombre_9 = v_5.getNombre();
                        String _plus = (_nombre_9 + " : ");
                        String _tipo_6 = declaracionBasica_2.getTipo();
                        String _plus_1 = (_plus + _tipo_6);
                        String _plus_2 = (_plus_1 + " : ");
                        String _plus_3 = (_plus_2 + tipo);
                        StyledString styledString = new StyledString(_plus_3);
                        String _nombre_10 = modulo.getNombre();
                        String _plus_4 = (" - " + _nombre_10);
                        StyledString styledStringAux = new StyledString(_plus_4);
                        int _length = styledStringAux.length();
                        styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
                        styledString.append(styledStringAux);
                        String _nombre_11 = v_5.getNombre();
                        ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_11, styledString, VaryGrammarProposalProvider.fieldRegistry, context);
                        acceptor.accept(completionProposal);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  
  @Override
  public void completeTipoDefinido_Nombre(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      ArrayList<String> tiposLocales = new ArrayList<String>();
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      EList<TipoComplejo> _complejos = algoritmo.getComplejos();
      ArrayList<String> _completeDeclaracionDefinida_TipoAux = this.completeDeclaracionDefinida_TipoAux(context, acceptor, _complejos, tiposLocales);
      tiposLocales = _completeDeclaracionDefinida_TipoAux;
      EList<Modulo> _importaciones = algoritmo.getImportaciones();
      this.completeDeclaracionDefinida_TipoModulos(context, acceptor, _importaciones, tiposLocales);
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        ArrayList<String> tiposLocales_1 = new ArrayList<String>();
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        Implementacion _implementacion = modulo.getImplementacion();
        EList<TipoComplejo> _complejos_1 = _implementacion.getComplejos();
        ArrayList<String> _completeDeclaracionDefinida_TipoAux_1 = this.completeDeclaracionDefinida_TipoAux(context, acceptor, _complejos_1, tiposLocales_1);
        tiposLocales_1 = _completeDeclaracionDefinida_TipoAux_1;
        EList<Modulo> _importaciones_1 = modulo.getImportaciones();
        this.completeDeclaracionDefinida_TipoModulos(context, acceptor, _importaciones_1, tiposLocales_1);
      }
    }
  }
  
  @Override
  public void completeTipoBasico_Nombre(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.completeDeclaracionBasica_TipoAux(context, acceptor);
  }
  
  @Override
  public void complete_TipoPaso(final EObject model, final RuleCall ruleCall, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    ResourceBundle _bundle = this.readerKeywords.getBundle();
    String _string = _bundle.getString("KEYWORD_ENTRADA");
    StyledString styledString = new StyledString(_string);
    int _length = styledString.length();
    styledString.setStyle(0, _length, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_1 = this.readerKeywords.getBundle();
    String _string_1 = _bundle_1.getString("KEYWORD_ENTRADA");
    ICompletionProposal completionProposal = this.createCompletionProposal(_string_1, styledString, VaryGrammarProposalProvider.typesClassics, context);
    acceptor.accept(completionProposal);
    ResourceBundle _bundle_2 = this.readerKeywords.getBundle();
    String _string_2 = _bundle_2.getString("KEYWORD_SALIDA");
    StyledString _styledString = new StyledString(_string_2);
    styledString = _styledString;
    int _length_1 = styledString.length();
    styledString.setStyle(0, _length_1, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_3 = this.readerKeywords.getBundle();
    String _string_3 = _bundle_3.getString("KEYWORD_SALIDA");
    ICompletionProposal _createCompletionProposal = this.createCompletionProposal(_string_3, styledString, VaryGrammarProposalProvider.typesClassics, context);
    completionProposal = _createCompletionProposal;
    acceptor.accept(completionProposal);
    ResourceBundle _bundle_4 = this.readerKeywords.getBundle();
    String _string_4 = _bundle_4.getString("KEYWORD_ENTRADASALIDA");
    StyledString _styledString_1 = new StyledString(_string_4);
    styledString = _styledString_1;
    int _length_2 = styledString.length();
    styledString.setStyle(0, _length_2, StyledString.DECORATIONS_STYLER);
    ResourceBundle _bundle_5 = this.readerKeywords.getBundle();
    String _string_5 = _bundle_5.getString("KEYWORD_ENTRADASALIDA");
    ICompletionProposal _createCompletionProposal_1 = this.createCompletionProposal(_string_5, styledString, VaryGrammarProposalProvider.typesClassics, context);
    completionProposal = _createCompletionProposal_1;
    acceptor.accept(completionProposal);
  }
  
  public void completeVectorMatriz_Valor(final EObject model, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    EObject _rootModel = context.getRootModel();
    if ((_rootModel instanceof Algoritmo)) {
      EObject _rootModel_1 = context.getRootModel();
      Algoritmo algoritmo = ((Algoritmo) _rootModel_1);
      ArrayList<String> constantesLocales = new ArrayList<String>();
      EList<Constante> _constantes = algoritmo.getConstantes();
      for (final Constante constante : _constantes) {
        {
          Variable _variable = constante.getVariable();
          String _nombre = _variable.getNombre();
          constantesLocales.add(_nombre);
          Variable _variable_1 = constante.getVariable();
          String _nombre_1 = _variable_1.getNombre();
          StyledString styledString = new StyledString(_nombre_1);
          Variable _variable_2 = constante.getVariable();
          String _nombre_2 = _variable_2.getNombre();
          ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.constPublic, context);
          acceptor.accept(completionProposal);
        }
      }
      EList<Modulo> _importaciones = algoritmo.getImportaciones();
      this.complete_ValorAux(context, acceptor, _importaciones, constantesLocales);
    } else {
      EObject _rootModel_2 = context.getRootModel();
      if ((_rootModel_2 instanceof Modulo)) {
        EObject _rootModel_3 = context.getRootModel();
        Modulo modulo = ((Modulo) _rootModel_3);
        ArrayList<String> constantesLocales_1 = new ArrayList<String>();
        Implementacion _implementacion = modulo.getImplementacion();
        EList<Constante> _constantes_1 = _implementacion.getConstantes();
        for (final Constante constante_1 : _constantes_1) {
          {
            Variable _variable = constante_1.getVariable();
            String _nombre = _variable.getNombre();
            constantesLocales_1.add(_nombre);
            Variable _variable_1 = constante_1.getVariable();
            String _nombre_1 = _variable_1.getNombre();
            StyledString styledString = new StyledString(_nombre_1);
            Variable _variable_2 = constante_1.getVariable();
            String _nombre_2 = _variable_2.getNombre();
            ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.constPublic, context);
            acceptor.accept(completionProposal);
          }
        }
        EList<Modulo> _importaciones_1 = modulo.getImportaciones();
        this.complete_ValorAux(context, acceptor, _importaciones_1, constantesLocales_1);
      }
    }
  }
  
  @Override
  public void completeVector_Valor(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.completeVectorMatriz_Valor(model, context, acceptor);
  }
  
  public void complete_ValorAux(final ContentAssistContext context, final ICompletionProposalAcceptor acceptor, final List<Modulo> modulos, final List<String> constantesLocales) {
    for (final Modulo modulo : modulos) {
      Implementacion _implementacion = modulo.getImplementacion();
      EList<Constante> _constantes = _implementacion.getConstantes();
      for (final Constante constante : _constantes) {
        if ((modulo.getExporta_constantes().contains(constante.getVariable().getNombre()) && (!constantesLocales.contains(constante.getVariable().getNombre())))) {
          Variable _variable = constante.getVariable();
          String _nombre = _variable.getNombre();
          StyledString styledString = new StyledString(_nombre);
          String _nombre_1 = modulo.getNombre();
          String _plus = (" - " + _nombre_1);
          StyledString styledStringAux = new StyledString(_plus);
          int _length = styledStringAux.length();
          styledStringAux.setStyle(0, _length, StyledString.QUALIFIER_STYLER);
          styledString.append(styledStringAux);
          Variable _variable_1 = constante.getVariable();
          String _nombre_2 = _variable_1.getNombre();
          ICompletionProposal completionProposal = this.createCompletionProposal(_nombre_2, styledString, VaryGrammarProposalProvider.constPublic, context);
          acceptor.accept(completionProposal);
        }
      }
    }
  }
  
  @Override
  public void completeMatriz_Valor(final EObject model, final Assignment assignment, final ContentAssistContext context, final ICompletionProposalAcceptor acceptor) {
    this.completeVectorMatriz_Valor(model, context, acceptor);
  }
}
